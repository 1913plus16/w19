<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- head.html; common header items for all layouts -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.js"></script>
<link rel="stylesheet" href="/site.css" />
<script src="/site.js"></script>

    <title>lab03 - Counting ducks: File I/O and flow control - </title>
  </head>
    <body id="page-top">
      <div id="container" data-role="page">
      <div data-role="header" class="header">
 <nav data-role="navbar" data-grid-"d">
  <ul>
    <li><a href="https://ucsb-cs16.github.io">UCSB CS16 </a></li>
    <li><a href="/" class="ui-btn-active">CS16 S18</a></li>
     <li><a href="https://submit.cs.ucsb.edu">submit.cs</a></li>
  </ul>
 </nav>
 <nav data-role="navbar" data-grid-"d">
  <ul>
   <li><a href="https://gauchospace.ucsb.edu">Gauchospace</a></li>
   <li><a href="https://piazza.com/configure-classes/spring2018/cs16">Piazza</a></li>
  </ul>
 </nav>
 
</div>

        <div id="content"  class="ui-content">
          <h1>lab03 : Counting ducks: File I/O and flow control</h1>
          <table class="asn_table">
            <!-- asn_table_header_row.html -->
<tr>
  <th class="asn_num"  >num</th>
  <th class="asn_ready">ready?</th>
  <th class="asn_desc" >description</th>
  <th class="asn_date" >assigned</th>
  <th class="asn_date" >due</th>
</tr>


            
            <tr class="ready" >
  <td class="asn_num"  ><a href="/lab/lab03/" data-ajax="false">lab03</a></td>
  <td class="asn_ready">true</td>
  <td class="asn_desc" >Counting ducks: File I/O and flow control</td>
  <td class="asn_date" >Tue 04/24 10:00AM</td> 
  <td class="asn_date" >Mon 04/30 11:59PM</td>
</tr>



          </table>
          <h1 id="introduction">Introduction</h1>

<p>By the time you have completed this lab, you should be able to:</p>

<ul>
  <li>Use for loops to count up and count down</li>
  <li>Check command line argument for input filename, and open that input file for reading</li>
  <li>Read every line of text in an input file and process it, using a while loop</li>
  <li>Use if-else statements to select blocks of code</li>
  <li>Count how many times a value occurs in a file</li>
  <li>Use Unix commands to create directories, navigate to directories, list files, and copy files</li>
  <li>Use the “make” command to compile simple stand-alone C++ programs (i.e. single source code file)</li>
  <li>Run simple C++ programs both with and without a single command line parameter</li>
</ul>

<h1 id="step-by-step-instructions">Step by Step Instructions</h1>

<ul>
  <li><a href="#step1" data-ajax="false">Log on to CSIL and bring up a terminal window</a></li>
  <li><a href="#step2" data-ajax="false">Create a new repo, add your partner as collaborator and clone it to your local directory</a></li>
  <li><a href="#step3" data-ajax="false">Get the starter code from a local directory</a></li>
  <li><a href="#step4" data-ajax="false">Compile and run the first program for this assignment</a></li>
  <li><a href="#step5" data-ajax="false">Copy sample01.cpp to myProg01.cpp and make changes</a></li>
  <li><a href="#step6" data-ajax="false">Read from input files and count ducks</a></li>
  <li><a href="#step7" data-ajax="false">A more detailed counting program</a></li>
  <li><a href="#step8" data-ajax="false">Turn in your code </a></li>
</ul>

<h2 id="step-1-log-on-to-csil-and-bring-up-a-terminal-window-a-namestep1a">Step 1: Log on to CSIL and bring up a terminal window. <a name="step1"></a></h2>

<p>I hope I can safely assume that you have all gotten a CoE account.
 If your account is not working,  get the attention of the instructor.</p>

<p>Log into your account to make sure it works.
As a reminder to get to the terminal go to <strong>Application</strong> Menu, then <strong>System Tools</strong>, then <strong>Terminal Window</strong>.</p>

<p>In the steps below, and in most future labs, you will create files on your own
account.</p>

<h2 id="step-2-create-a-new-repo-add-your-partner-as-collaborator-and-clone-it-to-your-local-directory-a-namestep2a">Step 2: Create a new repo, add your partner as collaborator and clone it to your local directory <a name="step2"></a></h2>

<p>In lab02,  we have done the same thing. So if you don’t know to how to do that, please refer to lab02 for details. The basic steps are as follows:</p>

<ul>
  <li>
    <p>Create a git repo on github following the correct naming convention, e.g., if your github username is jgaucho and your partner’s is alily, your should name your repo lab03_agaucho_alily (usernames appear in alphabetical order). Don’t forget to make it ‘PRIVATE’.</p>
  </li>
  <li>
    <p>Add your partner as a collaborator for the repo.</p>
  </li>
  <li>
    <p>Go to your CS16 directory and clone the repo locally.</p>
  </li>
</ul>

<h2 id="step-3-get-the-starter-code-from-a-local-directory-a-namestep3a">Step 3: Get the starter code from a local directory <a name="step3"></a></h2>

<p>This step is aslo very similar to lab02, first open terminal and go to the directory where you cloned the starter code in lab02 and pull the latest version of the starter code.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  cd ~/cs16/cs16-w18-starter-code
  git pull
</code></pre>
</div>

<p>Copy the code from your starter code directory to your local lab03 repo using the following command, <strong>REMEMBER</strong> to change the directory name in the commands below to your own directory’s name, in this lab we simply use lab03_agaucho_alily as a example for your local git directory:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  cp ~/cs16/cs16-w18-starter-code/lab03/* ~/cs16/lab03_agaucho_alily/
</code></pre>
</div>

<p>After doing this command, if you cd into ~/cs16/lab03_agaucho_alily/ and use the ls command, you should see several .cpp files:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ ls
animals01.txt  animals02.txt  countDucks.cpp  sample01.cpp
-bash-4.2$
</code></pre>
</div>

<p>If you don’t see those files, work with your pair partner to go back through the instructions and make sure you didn’t miss a step. If you still have trouble, ask for assistance.</p>

<p>If so, you are ready to move on to the next step.</p>

<h2 id="step-4-compile-and-run-the-first-program-for-this-assignment-a-namestep4a">Step 4: Compile and run the first program for this assignment <a name="step4"></a></h2>

<p>The first program we are going to compile and run is one that demonstrates a for loop in C++.</p>

<p>In your lab03 directory, you should have a program called sample01.cpp that we copied in the previous step.   Here’s how you can put yourself in that directory (though you should already be there):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ cd ~/cs16/lab03_agaucho_alily/
-bash-4.2$ pwd
/cs/faculty/dimirza/cs16/lab03_agaucho_alily/
-bash-4.2$
</code></pre>
</div>

<p>Then you can list out your files with the <code>ls</code> command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ ls
animals01.txt  animals02.txt  countDucks.cpp  sample01.cpp
-bash-4.2$
</code></pre>
</div>

<p>Finally, use the Unix <code>cat</code> command to list the contents of the file sample01.cpp.  (The reason this command is called “cat” has nothing to do with the animal that goes “meow”.  If you ask me in lecture and I’ll tell you where the name comes from.)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ cat sample01.cpp
// sample01.cpp
// by P. Conrad for CS16, Winter 2017
#include &lt;iostream&gt;
using namespace std;

int main() {
    // Simple for loop that counts from 1 up to n

    int n=5;

    for (int i=1; i&lt;=n; i++) {
       cout &lt;&lt; "i=" &lt;&lt; i &lt;&lt; endl;
    }

    return 0;
}
-bash-4.2$
</code></pre>
</div>

<p>Compile this with the command <code>make sample01</code> and run it with the command <code>./sample01</code>.  That looks like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ make sample01
g++     sample01.cpp   -o sample01
-bash-4.2$ ./sample01
i=1
i=2
i=3
i=4
i=5
-bash-4.2$
</code></pre>
</div>

<p>If you get that output, you are ready for the next step.</p>

<h2 id="step-5-copy-sample01cpp-to-myprog01cpp-and-make-changes-a-namestep5a">Step 5: Copy sample01.cpp to myProg01.cpp and make changes <a name="step5"></a></h2>

<p>Now we’ll use the the Unix command <code>cp </code><em>oldfile newfile</em> which copies files, to copy from sample01.cpp to a new file called myProg01.cpp, as shown here:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ cp sample01.cpp myProg01.cpp
-bash-4.2$ ls
animals01.txt  countDucks.cpp  sample01
animals02.txt  myProg01.cpp    sample01.cpp
-bash-4.2$
</code></pre>
</div>

<p>Now you have a new file called myProg01.cpp that is a copy of sample01.cpp.   Open it up in a text editor and make the following changes:</p>

<ol>
  <li>Change the comment at the top of the file so that it says // myProg01.cpp</li>
  <li>Change the second line of the file to be of the format “Author: your name”</li>
  <li>
    <p>Change the comment within the code to “Simple that counts down from n to 1”</p>
  </li>
  <li>Change the for loop as follows:</li>
</ol>

<ul>
  <li>Instead of initializing to 1, initialize to n</li>
  <li>Instead of testing <code>i&lt;=n</code>, test whether <code>i&gt;0</code></li>
  <li>Instead of changing i by incrementing with <code>i++</code>, change it by decrementing with <code>i--</code></li>
  <li>Remove the printing of “i=” each time.  Instead just print the number.  And Instead of printing a newline after each number, just print one space.  We do that by changing <code>cout &lt;&lt; "i=" &lt;&lt; i &lt;&lt; endl;</code> to <code> cout &lt;&lt; i &lt;&lt; " ";</code></li>
  <li>Add a line that prints a newline at the very end, just after the for loop is over, but BEFORE the <code>return 0;</code> statement. <em>Note: As a reminder, you get out of vim or gvim with ESC:x or ESC:wq . You can get out of emacs with CTRL+X followed by CTRL+C.  It will ask if you want to save changes; type y for yes.</em></li>
</ul>

<p>Compile and run myProg01.cpp with these changes. The output should look like this:</p>

<pre>
5 4 3 2 1
</pre>

<p>You are now ready to move to the next step.</p>

<p>Tip: <em>If you make a mistake that results in an “infinite loop”, i.e. the window is just scrolling by without stopping, you can use CTRL+C (hold down Control and type C) to stop the program.</em></p>

<h2 id="step-6-reading-from-input-files-and-counting-ducks-a-namestep6a">Step 6: Reading from input files and counting ducks <a name="step6"></a></h2>
<p>The next files we are going to look at are not C++ code, but rather data files.</p>

<p>Use the “cat” command to look at the contents of animals01.txt and animals02.txt. You should get results like these:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ cat animals01.txt
duck
duck
goose
-bash-4.2$ cat animals02.txt
duck
duck
goose
duck
duck
cow
duck
duck
dog
-bash-4.2$
</code></pre>
</div>

<p>The next program we are going to look at will read input from files such as these.    It is called <code>countDucks.cpp</code> and it will simply count the number of ducks in each file.</p>

<p>Before you look at the code, try compiling the program and running it, because this will help you understand what the program is trying to do.  Compile with:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ make countDucks
g++     countDucks.cpp   -o countDucks
-bash-4.2$
</code></pre>
</div>

<p>Then try running it with just <code>./countDucks</code>.  You’ll see that you get a “Usage” message.  This is telling us that the program expects a “command line argument”, which is the name of the file to read:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ ./countDucks
Usage: ./countDucks inputFile
-bash-4.2$
</code></pre>
</div>

<p>Implement the countDucks program in countDucks.cpp so that when you run the program with argument animals01.txt as the filename, it produces the following output:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ ./countDucks animals01.txt
There were 2 ducks in animals01.txt

</code></pre>
</div>

<p>Alternatively if you give animals02.txt as the argument it should produce the following output.
<code class="highlighter-rouge">
-bash-4.2$ ./countDucks animals02.txt
There were 6 ducks in animals02.txt
-bash-4.2$
</code></p>

<p>Once you’ve done that, you are ready for the next step.</p>

<h2 id="step-7-a-more-detailed-counting-program-a-namestep7a">Step 7: A more detailed counting program <a name="step7"></a></h2>

<p>Your job is now to copy countDucks.cpp to a file myProg02.cpp and make some changes.</p>

<p>First, let’s stipulate that you may assume that everything in the input file is an animal, one per line—if someone adds “potato” or “bicycle” to the file, you can just assume that potato and bicycle are now to be considered types of animals.</p>

<ol>
  <li>Add a variable that will count ALL animals in the file.    Give it an appropriate name and initialize it to zero.</li>
  <li>Add a variable that will count ALL animals in the file that are NOT ducks.   Give it an appropriate name and initialize it to zero.</li>
  <li>Add code that will increment those counts when appropriate.  It may help to know that C++ has an else clause for an if that looks like this:</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>   if (condition) {
     // lines of code here are
     // executed when condition is true
   } else {
     // lines of code here are
     // executed when condition is false
   }
</code></pre>
</div>

<p>Note that it is NOT required for every if to have an else clause.</p>

<p>Also note that the braces <code>{ } </code> are:</p>

<ul>
  <li>OPTIONAL when there is a SINGLE statement inside a particular if or else block</li>
  <li>REQUIRED when there is more than one statement inside a particular if or else block</li>
</ul>

<p>After making these changes, one more thing: change the lines that give the output so they look like the ones shown below.</p>

<pre>
Report for animals01.txt:
   Animal count:    3
   Duck count:      2
   Non duck count:  1
</pre>

<pre>
Report for animals02.txt:
   Animal count:    9
   Duck count:      6
   Non duck count:  3
</pre>

<p>It is IMPORTANT to be EXACT since the submit.cs system will compare your output with the expected output character-by-character.   The spacing MATTERS!   You can add extra spaces at the beginning and end of the string literals for <code>"   Animal count:   "</code>  and <code>"   Duck count:   "</code> so that the spacing comes out right and matches the expected output below.  I’m not going to tell you how many; you’ll have to figure that out.</p>

<p>Note that we will also test your program on other input files, so you should too.  Use the cp command to copy animals02.txt to animals03.txt and add some ducks and some other animals.  Count by hand, and make sure that the count when you run your program matches what is expected.</p>

<p>When you are satisfied that the count is correct and that format of the output is precise, you are ready to submit your code for grading.</p>

<p>Note that the submit.cs system may give you feedback on whether your code is correct or not.    You can use this feedback to resubmit as many times as you need up until the deadline for the assignment.  So if it doesn’t work on the first try, don’t panic—just fix your code.</p>

<h2 id="step-8-turn-in-your-code--a-namestep8a">Step 8: Turn in your code  <a name="step8"></a></h2>

<p>Once you have joined the course, you should be able to submit your code by typing the sequence of commands shown below in a terminal window on CSIL:</p>

<ul>
  <li>Navigate to your ~/cs16/lab03_agaucho_alily directory, the one containing your code for this week’s lab.</li>
</ul>
<pre>
-bash-4.2$ cd ~/cs16/lab03_agaucho_alily
</pre>

<ul>
  <li>Use the <code>ls</code> command to list your files and to be sure that you have the myProg01.cpp and myProg02.cpp files in your directory.  It is ok if there are other files (countDucks.cpp, animals01.txt, etc.) along with the executables.  You only have to submit myProg01.cpp and myProg02.cpp.</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>-bash-4.2$ cd ~/cs16/lab03_agaucho_alily
-bash-4.2$ ls
animals01.txt  countDucks.cpp  myProg02      sample01
animals02.txt  myProg01.cpp    myProg02.cpp  sample01.cpp
-bash-4.2$
</code></pre>
</div>

<ul>
  <li>Use the following command to turn in your files:</li>
</ul>
<pre>
-bash-4.2$ ~submit/submit -p 923 myProg01.cpp myProg02.cpp
</pre>

<p>The number 923 is the “project number” specfic to CS16 W18 lab03 for our class section.</p>

<h3 id="what-a-successful-turnin-looks-like">What a successful turnin looks like</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>[dimirza@csil-02 lab03_agaucho_alily]$ pwd
/cs/faculty/dimirza/cs16/lab03_agaucho_alily
[dimirza@csil-02 lab03_agaucho_alily]$ ls
animals01.txt  countDucks      myProg01      myProg02      README.md
animals02.txt  countDucks.cpp  myProg01.cpp  myProg02.cpp  sample01.cpp
[dimirza@csil-02 lab03_agaucho_alily]$ ~submit/submit -p 923 myProg01.cpp myProg02.cpp
logged in as dimirza@cs.ucsb.edu
Sending myProg01.cpp
Sending myProg02.cpp
Submission successful
Results will be available at: https://submit.cs.ucsb.edu/submission/226377
[dimirza@csil-02 lab03_agaucho_alily]$
</code></pre>
</div>

<p>Once you have done the submit, go to the link shown.  (Yours will have a different number from the one given above.)</p>

<h3 id="what-youll-see-on-submitcs-if-the-submission-was-successful">What you’ll see on submit.cs if the submission was successful</h3>

<p>If you see the following, it means you passed all the tests.  A successful submission will get 120 points. If you find any thing you want to change, you may resubmit as many times as needed up until the deadline.</p>

<div id="diff_table_div">
  <div class="row-fluid">
    <div class="pull-left well well-small">
      <h3 style="color:green">Passed Tests</h3>
      <table border="1">
  <tr><th>Test Group</th><th>Test Name</th><th>Value</th></tr><tr><td>myProg01</td><td><p style="color:green;margin:0;padding:0;">myProg01</p></td><td>30</td></tr><tr><td>myProg02</td><td><p style="color:green;margin:0;padding:0;">./myProg02 animals01.txt</p></td><td>30</td></tr><tr><td>myProg02</td><td><p style="color:green;margin:0;padding:0;">./myProg02 animals02.txt</p></td><td>30</td></tr><tr><td>myProg02</td><td><p style="color:green;margin:0;padding:0;">myProg02 empty command line</p></td><td>30</td></tr></table>
    </div>
  </div>

</div>

<h3 id="what-you-might-see-if-there-were-errors">What you might see if there were errors</h3>

<p>If instead, you see someting like this, it means you didn’t pass some tests:</p>

<p><img src="/lab/lab03/submit.cs.error-50pct.png" alt="error" height="500px" /></p>

<p>If you are seeing something like that, try to understand the feedback you are getting before asking questions.  Then if you are still stuck, ask for help.  For example, the output above shows that the student forgot the “colon” (<code>:</code>) in the output.</p>

<h1 id="evaluation-and-grading-a-nameevala">Evaluation and Grading <a name="eval"></a></h1>

<p>To earn full credit for this lab (120 pts) you should have successfully submitted both myProg01.cpp and myProg02.cpp  via submit.cs and received a “green” indication that it passed all the tests for expected output.</p>

<div id="diff_table_div">
  <div class="row-fluid">
    <div class="pull-left well well-small">
      <h3 style="color:green">Passed Tests</h3>
      <table border="1">
  <tr><th>Test Group</th><th>Test Name</th><th>Value</th></tr><tr><td>myProg01</td><td><p style="color:green;margin:0;padding:0;">myProg01</p></td><td>30</td></tr><tr><td>myProg02</td><td><p style="color:green;margin:0;padding:0;">./myProg02 animals01.txt</p></td><td>30</td></tr><tr><td>myProg02</td><td><p style="color:green;margin:0;padding:0;">./myProg02 animals02.txt</p></td><td>30</td></tr><tr><td>myProg02</td><td><p style="color:green;margin:0;padding:0;">myProg02 empty command line</p></td><td>30</td></tr></table>
    </div>
  </div>

</div>

<ul>
  <li>You must check that you have followed these style guidelines:</li>
</ul>

<ol>
  <li>Indentation is neat, consistent and follows good practice (see below)</li>
  <li>Variable name choice: variables should have sensible names.
 More on indentation: Your code should be indented neatly.  Code that is inside braces should be indented, and code that is at the same “level” of nesting inside braces should be indented in a consistent way.    Follow the examples from lecture, the sample code, and from the textbook.</li>
</ol>

<ul>
  <li>Your submission should be on-time. If you miss the deadline, you are subject to getting a zero</li>
</ul>

<p>Note:
<em>Regarding asking for “extensions”: Extensions are granted only in TRUE emergencies (i.e. matters of life and death beyond the students control) and require PRIOR APPROVAL of the instructor AS SOON as the circumstances are known.   (Not weeks later “after the fact” approval.)  There must be documentation of some extra-ordinary circumstance beyond the students control (death/hospitalization of an immediate family member requiring emergency travel, hospitalization of student herself/himself), serious illness requiring medical intervention, etc.     Do not ask for extensions because of “heavy work load in my other courses”, or other reasons that may  “feel” like an emergency to you, but are in fact, routine for all students.</em></p>

        </div><!-- content -->
        <div data-role="footer" class="footer">
 <nav data-role="navbar" data-grid-"d">
  <ul>
   <li><a href="https://github.com/ucsb-cs16-s18-mirza/ucsb-cs16-s18-mirza.github.io">this site on github</a></li>
   <li><a href="https://ucsb-cs16.github.io/instructor">Instructor info</a></li>
   <li><a href='https://github.com/ucsb-cs16-s18-mirza/ucsb-cs16-s18-mirza.github.io/edit/master/_lab/lab03.md'>edit this page on github</a></li>
   <li><a href="https://foo.cs.ucsb.edu/16wiki">16wiki</a></li>

  </ul>
 </nav>
</div>

      </div><!-- container -->
  </body>
</html>
