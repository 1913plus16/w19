<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- head_hwk.html -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<link rel="stylesheet" href="/site.css" />
<link rel="stylesheet" href="/hwk.css" />
<script src="/site.js"></script>
<script src="/hwk.js"></script>

    <title>Quiz07 - Chapter 7 and 10: Pointers - </title>
  </head>
    <body id="page-top">
      <div id="container" data-role="page">
      <div data-role="header" class="header">
 <nav data-role="navbar" data-grid-"d">
  <ul>
    <li><a href="https://ucsb-cs16.github.io">UCSB CS16 </a></li>
    <li><a href="/" class="ui-btn-active">CS16 S18</a></li>
     <li><a href="https://gradescope.com">Gradescope</a></li>
  </ul>
 </nav>
 <nav data-role="navbar" data-grid-"d">
  <ul>
   <li><a href="https://gauchospace.ucsb.edu">Gauchospace</a></li>
   <li><a href="https://piazza.com/configure-classes/spring2018/cs16s18">Piazza</a></li>
  </ul>
 </nav>
 
 <nav data-role="navbar" data-grid-"d">
  <ul class="hwk-nav-bar">
  
    <li><a href="/hwk/h01/">Quiz01</a></li>
  
    <li><a href="/hwk/h02/">Quiz02</a></li>
  
    <li><a href="/hwk/h03/">Quiz03</a></li>
  
    <li><a href="/hwk/h04/">Quiz04</a></li>
  
    <li><a href="/hwk/h05/">Quiz05</a></li>
  
    <li><a href="/hwk/h06/">Quiz06</a></li>
  
    <li><a href="/hwk/h07/">Quiz07</a></li>
  
    <li><a href="/hwk/h08/">Quiz08</a></li>
  
    <li><a href="/hwk/h09/">Quiz09</a></li>
  
    <li><a href="/hwk/h10/">Quiz10</a></li>
  
  </ul>
 </nav>

</div>

      
      <div class="not-ready-warning">

<h2>Warning</h2>

<h3>This material has not yet been marked as "ready".</h3>

It should be treated as a "draft", i.e. a "work in progress".

If this is an assignment, and this message still appears after the
"assigned" date, please post a question on Piazza requesting
clarification.

</div>

           
        <div id="content"  class="ui-content">
        <div class="hwk-header">
          <div class="hwk-page-header hwk-page-header-template">
	    <table>
	      <tr> <td class="page-num">1</td>  </tr>
	      <tr> <td class="asn-num">Quiz07</td>  </tr>
	      <tr> <td class="course-qtr">CS16&#160;<span class="insert-qtr">S18</span></td>  </tr>
	    </table>
	  </div>
	  
	  <table class="hwk-header-table">

	    <tr><th colspan="5" class="hwk-header-name">Name:</th></tr>
	    <tr><th colspan="5" class="hwk-header-subtext">(as it would appear on official course roster)</th></tr>
	    <tr>
	      <th class="hwk-header-umail-label">  Umail address:</th>
	      <th class="hwk-header-umail-entry"> @umail.ucsb.edu</th>
	      <th rowspan="3" class="hwk-header-section"> section<br></th>
	    </tr>
	    <tr>
	      <th colspan="2" style="text-align:left; vertical-align:middle; font-size: 8pt !important; font-family:Arial Narrow, sans-serif; line-height:105%;"> Optional: name you wish to be called<br />if different from name above.
	    </th></tr>
	    <tr>
	      <th colspan="2" style="text-align:left; vertical-align:middle; font-size: 8pt !important; font-family:Arial Narrow, sans-serif; line-height: 105%;"> Optional: name of "homework buddy"<br />(leaving this blank signifies "I worked alone"
	  </th></tr></table>


<h1>Quiz07: Chapter 7 and 10: Pointers</h1>

	  <table class="asn_table">
	    <tr>
	      <th class="asn_ready">ready?</th>
	      <th class="asn_date" >assigned</th>
	      <th class="asn_date" >due</th>
	      <th class="asn_date" >points</th>
	    </tr>
	    <tr class="not-ready">
	      <td class="asn_ready">false</td>
	      <td class="asn_date" >Fri 05/11 10:00AM</td> 
	      <td class="asn_date" >Fri 05/18 11:59PM</td>
	      <td class="pointCount"></td>
	    </tr>
	   </table>

  <div style="font-size: 8pt !important; font-family:Arial Narrow, sans-serif; font-style:italic; line-height: 100%;">
<p>You may collaborate on this homework with AT MOST one person, an optional "homework buddy".
</p>
</div>

<p>MAY ONLY BE TURNED IN IN THE LECTURE/LAB LISTED ABOVE AS THE DUE DATE,<br />
OR IF APPLICABLE, SUBMITTED ON GRADESCOPE.   There is NO MAKEUP for missed assignments;<br />
in place of that, we drop the three lowest scores (if you have zeros, those are the three lowest scores.)
</p>
<hr />

          
        </div><!-- hwk-header -->  
          <div style="float:right; width:20em; margin: 2em; padding:1em; border: 5px black inset; ">
  <p>Please:</p>
  <ul>
 <li> <b>No Staples</b>.  </li>
 <li> <b>No Paperclips</b>. </li>
 <li> <b>No folded down corners</b>.</li>
</ul>
</div>

<p>Read Chapter 7.1 - 7.2 up to page 397 (If you do not have a copy of the textbook yet, there is one on reserve at the library under “COMP000-STAFF - Permanent Reserve”).</p>

<p><b>PLEASE MARK YOUR HOMEWORK CLEARLY, REGARDLESS OF IF YOU WRITE IT OUT IN INK OR PENCIL!<br />
FOR BEST RESULTS, PRINT THIS PAGE AS A PDF, THEN PRINT THE PDF</b></p>

<p>1.(5 pts) What is the output of the following code? If there’s an error that will not allow an output, point it out. Briefly justify your answer.</p>

<div>
  <div class="highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'a'</span><span class="p">;</span>
  <span class="k">else</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'z'</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>  <span class="p">}</span>
</code></pre>
  </div>
</div>
<div style="margin-bottom:4em"></div>
<p>2.(5 pts) What is the output of the following code? If there’s an error that will not allow an output, point it out.</p>

<div>
  <div class="highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">5</span><span class="p">};</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">i</span> <span class="o">&lt;&lt;</span><span class="s">" "</span><span class="p">;</span>
</code></pre>
  </div>
</div>
<div style="margin-bottom:4em"></div>
<p>3.(5 pts) What is the output of the following code? If there’s an error that will not allow an output, point it out.</p>

<div>
  <div class="highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">codes</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">44</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">83</span><span class="p">,</span> <span class="mi">973</span><span class="p">,</span> <span class="o">-</span><span class="mi">977</span><span class="p">};</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">count</span> <span class="o">:</span> <span class="n">codes</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="n">count</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">50</span> <span class="p">)</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">count</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">else</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"invalid"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
</code></pre>
  </div>
</div>

<div class="pagebreak"></div>

<p>4.(5 pts) Draw a diagram to show how the content of the array ‘nums’ changes in memory after every line of the following code is executed. Start by showing the elements of the array in memory when the array is initialized. Every time the element of an array changes, you may indicate the change by crossing out the old value and writing in the new value.</p>

<div>
  <div class="highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">nums</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">44</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">83</span><span class="p">};</span>
<span class="kt">int</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="n">nums</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
</code></pre>
  </div>
</div>

<p>5.(5 pts) Describe in your own words what the code in the previous question does. Your description of the code should be as abstract as possible. For example..”the above code sorts the elements of the array in ascending order…”</p>

<div style="margin-bottom:8em"></div>

<p>6.(10 pts) Write the definition of a function named ‘reverse’ that takes two parameters: an integer array and the number of elements of the array. The function should reverse the order of elements of the array. The function should not return anything. See below for an example of expected outcome when the reverse function is called:</p>

<div>
  <div class="highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">nums</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">50</span><span class="p">};</span>
<span class="n">reverse</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span><span class="c1">// The order of elements should be reversed after this
</span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
   <span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="s">" "</span>
</code></pre>
  </div>
</div>
<p>The output of the above code should be: 50 40 30 20 10</p>
<div class="pagebreak"></div>

<p>7.(4 pts) List two reasons why you might choose to pass parameters to a function by address or reference, rather than by value in your C++ programs.</p>
<div style="margin-bottom:4em"></div>

<p>8.(6 pts) Draw a pointer diagram to demonstrate how the state of memory changes as the following code is executed. Cross out old values/arrows and draw new ones. Is this program likely to result in a segmentation fault? If so, why?</p>
<div style="margin-bottom:1em"></div>

<div>
  <div class="highlighter-rouge"><pre class="highlight"><code>   int num = 10, *ptr1 = &amp;num, *ptr2=0;
   if (ptr2) ptr1 = ptr2;
   else if(ptr1) ptr2 = ptr1;
   (*ptr1)++;
</code></pre>
  </div>

</div>

<p>9.(8 pts) On page 14 of the “Pointers and Memory” handout there is a reference to the “Amperand (&amp;)” Bug in the TAB() function. Draw a trace of the local variables of the functions Victim() and TAB() on the run-time stack as these functions are executed. Your diagram should be similar to the one provided on page 13. Your diagram should depict exactly three instances in program execution - T1: Right after the first statement of Victim(), T2: right before the return statement in TAB(), T3: Right after the call to TAB(). Use your diagram to explain the “Amperand (&amp;)” bug and why it is likely to lead to a runtime error when the last line of the Victim() is executed?</p>
<div style="margin-bottom:20em"></div>

<div class="pagebreak"></div>

<p>10.(8 pts) Write the definition of a structure type called UndergradStudents. This structure should contain student ID numbers, first and last names, major, and GPA scores for each undergraduate year.</p>
<div style="margin-bottom:8em"></div>

<p>11.(14 pts) Write a program that uses the definition of the structure UndergradStudents from the previous question to <em>declare</em> and then <em>initialize</em> an array of 3 objects of this structure (hint: you can do this with the same approach you define/initialize an array of any other type). You <strong>must initialize the values in the program, not by user input</strong>.  The initial values are shown in the table below. Then write the definition of a function with the signature <code> void printRecords(struct UndergradStudents *records, int numrecords);</code> The function should print out the values of the array of objects passed to it as shown in the sample below, along with each student’s AVERAGE GPA score (calculated to a precision of 2 decimal places). You <strong>must use a loop to print the output</strong>. Your program should appropriately call the printRecords() function to print the student records and the average GPA.</p>

<div>
  <table>
    <tbody>
      <tr>
        <td>ID</td>
        <td>First name</td>
        <td>Last Name</td>
        <td>Major</td>
        <td>GPA Yr1</td>
        <td>GPA Yr2</td>
        <td>GPA Yr3</td>
        <td>GPA Yr4</td>
      </tr>
      <tr>
        <td>1</td>
        <td>Joe</td>
        <td>Shmoe</td>
        <td>EE</td>
        <td>3.8</td>
        <td>3.3</td>
        <td>3.4</td>
        <td>3.9</td>
      </tr>
      <tr>
        <td>2</td>
        <td>Macy</td>
        <td>Chen</td>
        <td>CS</td>
        <td>3.9</td>
        <td>3.9</td>
        <td>4.0</td>
        <td>4.0</td>
      </tr>
      <tr>
        <td>3</td>
        <td>Peter</td>
        <td>Patrick</td>
        <td>ME</td>
        <td>3.8</td>
        <td>3.0</td>
        <td>2.4</td>
        <td>1.9</td>
      </tr>
    </tbody>
  </table>

  <p>OUTPUT:</p>

  <div class="highlighter-rouge"><pre class="highlight"><code>These are the student records:
ID# 1, Shmoe, Joe, Major: EE, Average GPA: 3.60
ID# 2, Chen, Macy, Major: CS, Average GPA: 3.95
ID# 3, Peter, Patrick, Major: ME, Average GPA: 2.77
</code></pre>
  </div>
</div>

        </div><!-- content -->
        <div data-role="footer" class="footer">
 <nav data-role="navbar" data-grid-"d">
  <ul>
   <li><a href="https://github.com/ucsb-cs16-s18-mirza/ucsb-cs16-s18-mirza.github.io">this site on github</a></li>
   <li><a href="https://ucsb-cs16.github.io/instructor">Instructor info</a></li>
   <li><a href='https://github.com/ucsb-cs16-s18-mirza/ucsb-cs16-s18-mirza.github.io/edit/master/_hwk/h07.md'>edit this page on github</a></li>
   <li><a href="https://foo.cs.ucsb.edu/16wiki">16wiki</a></li>

  </ul>
 </nav>
</div>

      </div><!-- container -->
  </body>
</html>
