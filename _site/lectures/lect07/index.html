<!DOCTYPE html>
<html lang="en">
  <head>
  <!-- head.html; common header items for all layouts -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.js"></script>
<link rel="stylesheet" href="/site.css" />
<script src="/site.js"></script>
 
  <title> Lect07 |  CS 16 Spring 2018</title>
  </head>
  <body id="page-top">
    
    <div id="container" data-role="page">
    <div data-role="header" class="header">
 <nav data-role="navbar" data-grid-"d">
  <ul>
    <li><a href="https://ucsb-cs16.github.io">UCSB CS16 </a></li>
    <li><a href="/" class="ui-btn-active">CS16 S18</a></li>
     <li><a href="https://gradescope.com">Gradescope</a></li>
  </ul>
 </nav>
 <nav data-role="navbar" data-grid-"d">
  <ul>
   <li><a href="https://gauchospace.ucsb.edu">Gauchospace</a></li>
   <li><a href="https://piazza.com/configure-classes/spring2018/cs16s18">Piazza</a></li>
  </ul>
 </nav>
 
</div>

    <div id="content"  class="ui-content">
    




<table class="lecture_table">
<tr>

  <td><a href="/lectures/lect06/">Previous Lecture</a></td>
  


  <td>
    lect07
     
        Before Slides 
     
 </td>
 <td>
    lect07
     
        Annotated Slides 
     
 </td>

 <td><a href="/lectures/lect08/">Next Lecture</a></td>

</tr>
</table> 
    <h1 id="topics">Topics</h1>

<h2 id="under-the-hood-of-program-compilation-and-execution">Under the hood of program compilation and execution</h2>
<ul>
  <li>From high-level programs to machine code
    <ul>
      <li>What are .h, .o and .cpp file?</li>
      <li>What is an execuatble</li>
      <li>Steps in compilation
 	* Creating object files and linking programs with g++</li>
    </ul>
  </li>
  <li>Separate compilation with Makefiles <a href="https://foo.cs.ucsb.edu/16wiki/index.php/C%2B%2B:_Separate_Compilation_and_Makefiles">read about Makefile</a></li>
  <li>Compile-time errors</li>
  <li>Linker errors</li>
  <li>Header guards</li>
</ul>

<h2 id="lesson-plan">Lesson plan</h2>

<ul>
  <li>We will start with the code that we wrote in lecture 5 for drawing shapes and testing the functions we wrote with our home grown test framework</li>
  <li>
    <p>Our first goal is to split our original implementation into multiple files in a way that maximizes reuse. For example we can reuse our drawTriangle and drawSquare functions to draw a house. However, this is not possible with the file structure in lecture 5. Weâ€™ll discuss why that is.</p>
  </li>
  <li>
    <p>Once we have broken down our single cpp file into logical separate files, its time to compile the code. Our goal will be to select and combine the pieces that make a complete program</p>
  </li>
  <li>
    <p>If we tried to compile any one file (independent of the others), we are likely to get compiler errors and linker errors. You should be able to distinguish between these two types of errors and why they occur. To understand this distinction we need to peek under the hood of the compilation process and the intermediate steps that g++ takes to create an executable (see slides for more information). You will be introduced to object files - a very important concept for later lessons.</p>
  </li>
  <li>We will first try to compile each file separately on the command line using the g++ option -c. For example</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>g++ -c shapes.cpp
</code></pre>
</div>
<p>The above command creates the object file shapes.o</p>

<p>We will then look at how to link all the object files into an executable using the -o option as shown below</p>

<div class="highlighter-rouge"><pre class="highlight"><code>g++ file1.o file2.o file3.o -o finalexecuatble
</code></pre>
</div>
<ul>
  <li>Next we will automate this process by writing a makefile</li>
</ul>


    </div><!-- content -->
    <div data-role="footer" class="footer">
 <nav data-role="navbar" data-grid-"d">
  <ul>
   <li><a href="https://github.com/ucsb-cs16-s18-mirza/ucsb-cs16-s18-mirza.github.io">this site on github</a></li>
   <li><a href="https://ucsb-cs16.github.io/instructor">Instructor info</a></li>
   <li><a href='https://github.com/ucsb-cs16-s18-mirza/ucsb-cs16-s18-mirza.github.io/edit/master/_lectures/lect07.md'>edit this page on github</a></li>
   <li><a href="https://foo.cs.ucsb.edu/16wiki">16wiki</a></li>

  </ul>
 </nav>
</div>

    </div><!-- container -->
  </body>
</html>
